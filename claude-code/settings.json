{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "model": "opus",
  "showTurnDuration": true,
  "attribution": {
    "commit": "Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"
  },
  "statusLine": {
    "type": "command",
    "command": "/home/ortho/.config/home-manager/claude-code/statusline.sh"
  },
  "hooks": {
    "Notification": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c '/usr/bin/notify-send \"Claude Code\" \"Claude needs your attention\" -t 5000 -u normal; /home/ortho/.nix-profile/bin/pw-play $(/usr/bin/shuf -n1 -e /home/ortho/.config/home-manager/sounds/peasant/PeasantWhat{1,2,3,4}.wav) 2>>/tmp/peon-debug.log &'"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash(home-manager switch)",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c '/usr/bin/notify-send \"Home Manager\" \"Configuration applied successfully!\" -t 5000 -u normal; /home/ortho/.nix-profile/bin/pw-play $(/usr/bin/shuf -n1 -e /home/ortho/.config/home-manager/sounds/peasant/PeasantYes{1,2,3,4}.wav) 2>>/tmp/peon-debug.log &'"
          }
        ]
      },
      {
        "matcher": "Bash(home-manager build)",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c '/usr/bin/notify-send \"Home Manager\" \"Build completed successfully\" -t 3000 -u low; /home/ortho/.nix-profile/bin/pw-play $(/usr/bin/shuf -n1 -e /home/ortho/.config/home-manager/sounds/peasant/PeasantReady1.wav /home/ortho/.config/home-manager/sounds/peasant/PeasantYes3.wav) 2>>/tmp/peon-debug.log &'"
          }
        ]
      }
    ],
    "PostToolUseFailure": [
      {
        "matcher": "Bash(home-manager *)",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c '/usr/bin/notify-send \"Home Manager\" \"Build/switch failed! Check errors.\" -t 5000 -u critical; /home/ortho/.nix-profile/bin/pw-play $(/usr/bin/shuf -n1 -e /home/ortho/.config/home-manager/sounds/peasant/PeasantAngry4.wav /home/ortho/.config/home-manager/sounds/peasant/PeasantYesAttack4.wav) 2>>/tmp/peon-debug.log &'"
          }
        ]
      }
    ]
  },
  "permissions": {
    "allow": [
      "Bash(alejandra:*)",
      "Bash(home-manager build:*)",
      "Bash(home-manager switch:*)",
      "Bash(git status:*)",
      "Bash(git diff:*)",
      "Bash(ls:*)",
      "Read(*.nix)",
      "Read(*.lua)",
      "Read(*.sh)",
      "Read(*.json)",
      "Read(*.md)",
      "Read(~/Orthidian/transcripts/*)",
      "Bash(nix search:*)",
      "Bash(docker run --user * --rm --memory=20g -v *:/pipeline adaptogene:latest*:*)",
      "Bash(alejandra * && home-manager build:*)",
      "Bash(alejandra * && home-manager switch:*)"
    ],
    "ask": [
      "Bash(git push:*)",
      "Bash(git commit:*)"
    ]
  }
}
